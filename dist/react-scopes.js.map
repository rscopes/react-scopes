{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"rescope\"","webpack:///external \"is\"","webpack:///external \"@babel/runtime/helpers/extends\"","webpack:///external \"@babel/runtime/helpers/getPrototypeOf\"","webpack:///external \"@babel/runtime/helpers/classCallCheck\"","webpack:///external \"@babel/runtime/helpers/createClass\"","webpack:///external \"@babel/runtime/helpers/possibleConstructorReturn\"","webpack:///external \"@babel/runtime/helpers/inherits\"","webpack:///external \"@babel/runtime/helpers/toConsumableArray\"","webpack:///external \"@babel/runtime/helpers/get\"","webpack:///external \"rescope-spells\"","webpack:///./src/utils.js","webpack:///./src/ReactHocs.js","webpack:///external \"@babel/runtime/helpers/defineProperty\"","webpack:///external \"@babel/runtime/helpers/assertThisInitialized\"","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","require","walknGet","obj","path","isKey","is","string","split","length","slice","parseRef","_ref","ref","pathFrom","pathTo","isReactRenderable","React","Component","$$typeof","fn","SimpleObjectProto","constructor","createContext","Store","staticScope","Provider","Consumer","classIcons","toProps","String","fromCharCode","fromProps","rs","scopeToProps","argz","BaseComponent","shift","scope","Scope","isScope","use","array","push","compName","displayName","PropsProvider","scopeToState","this","props","state","forwardedRef","$dispatch","$actions","$scope","$stores","_originComponent","withRef","forwardRef","reScope","stateMap","initialState","stateMapToRefList","ReScopeProvider","ctx","q","_scopeWillUpdate","scopeWillUpdate","applyScopeUpdate","setState","rescope","dead","console","error","stores","actions","map","warn","nScope","unBind","defaultProps","scoped","scopeCfg","ScopeProvider","dispose","forcedScope","parent","retain","autoDestroy","propsToScope","scopedProps","refList","arguments","wait","nextProps","nextState","nextContext","shallowCompare","forEach","walknSet","stack","_firstRender","release","propsToStore","storeComp","isStore","storeName","dispatch","withScope","toState","connect","asStore","spells","asScope","asRef","withStateMap","store","RS"],"mappings":"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","file":"react-scopes.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","module.exports = require(\"react\");","module.exports = require(\"rescope\");","module.exports = require(\"is\");","module.exports = require(\"@babel/runtime/helpers/extends\");","module.exports = require(\"@babel/runtime/helpers/getPrototypeOf\");","module.exports = require(\"@babel/runtime/helpers/classCallCheck\");","module.exports = require(\"@babel/runtime/helpers/createClass\");","module.exports = require(\"@babel/runtime/helpers/possibleConstructorReturn\");","module.exports = require(\"@babel/runtime/helpers/inherits\");","module.exports = require(\"@babel/runtime/helpers/toConsumableArray\");","module.exports = require(\"@babel/runtime/helpers/get\");","module.exports = require(\"rescope-spells\");","import is                     from 'is'\r\nimport React, {createContext} from \"react\";\r\n\r\n\r\nexport function walknSet( obj, path, value, stack ) {\r\n\tif ( is.string(path) )\r\n\t\tpath = path.split('.');\r\n\tif ( !path.length )\r\n\t\treturn value;\r\n\telse if ( path.length == 1 ) {\r\n\t\tobj[path[0]] = stack\r\n\t\t               ? [...(obj[path[0]] || []), value]\r\n\t\t               : value;\r\n\t\treturn obj;\r\n\t}\r\n\telse\r\n\t\treturn walknSet(\r\n\t\t\tobj[path[0]] =\r\n\t\t\t\tobj[path[0]] || {},\r\n\t\t\tpath.slice(1),\r\n\t\t\tvalue, stack\r\n\t\t) && obj || obj;\r\n}\r\n\r\nexport function walknGet( obj, path, isKey ) {\r\n\tif ( is.string(path) )\r\n\t\tpath = path.split('.');\r\n\treturn path.length\r\n\t       ? obj[path[0]] && walknGet(obj[path[0]], path.slice(1))\r\n\t       : obj;\r\n}\r\n\r\nexport function parseRef( _ref ) {\r\n\tlet ref = _ref.split(':');\r\n\tref[0]  = ref[0].split('.');\r\n\tref[1]  = ref[1] && ref[1].split('.');\r\n\treturn {\r\n\t\tpathFrom: ref[0],\r\n\t\tpathTo  : ref[1] || [ref[0][ref[0].length - 1]]\r\n\t};\r\n}\r\n\r\nexport function isReactRenderable( obj ) {\r\n\treturn obj.prototype instanceof React.Component || obj === React.Component || obj.$$typeof || is.fn(obj);\r\n}\r\n\r\nfunction shallowCompare( partialState, state ) {\r\n\treturn !!Object.keys(partialState).find(key => (partialState[key] !== state[key]));\r\n}","/*\n *   The MIT License (MIT)\n *   Copyright (c) 2019. Wise Wild Web\n *\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\n *   of this software and associated documentation files (the \"Software\"), to deal\n *   in the Software without restriction, including without limitation the rights\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n *   copies of the Software, and to permit persons to whom the Software is\n *   furnished to do so, subject to the following conditions:\n *\n *   The above copyright notice and this permission notice shall be included in all\n *   copies or substantial portions of the Software.\n *\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n *   SOFTWARE.\n *\n *   @author : Nathanael Braun\n *   @contact : n8tz.js@gmail.com\n */\n\nimport is                     from 'is'\nimport React, {createContext} from \"react\";\nimport {Scope, Store}         from \"rescope\";\nimport spells                 from \"rescope-spells\";\n\nimport {walknSet, walknGet, isReactRenderable, parseRef} from \"./utils\";\n\nconst SimpleObjectProto = ({}).constructor;\n\nconst { Provider, Consumer } = createContext(Store.staticScope);\n\nconst classIcons = {\n\ttoProps  : String.fromCharCode(0x26A1),\n\tfromProps: '',//String.fromCharCode(0x270D),\n\trs       : String.fromCharCode(0xD83D, 0xDD17)\n}\n\n\n/**\n * Return a React \"HOC\" (High Order Component) that :\n *  - Inject & maintain the stores listed baseComponent::use and/or (use) in the\n * instances props.\n *  - Propag (scope) in the returned React Component context\n *\n * @param BaseComponent {React.Component} Base React Component ( default :\n *     React.Component )\n * @param scope {ReScope.Scope|function} the propagated Scope where the stores will be\n *     searched ( default : the default ReScope::Scope::scopes.static scope )\n * @param use {array} the list of stores to inject from the current scope\n * @returns {ReScopeProvider}\n */\nfunction scopeToProps( ...argz ) {\n\tlet BaseComponent = (!argz[0] || (isReactRenderable(argz[0]))) && argz.shift(),\n\t    scope         = (!argz[0] || Scope.isScope(argz[0])) && argz.shift(),\n\t    use           = (!argz[0] || is.array(argz[0]) || argz[0] instanceof SimpleObjectProto) && argz.shift();\n\t\n\tif ( !use ) {\n\t\tuse = [];\n\t\twhile ( is.string(argz[0]) ) use.push(argz.shift());\n\t}\n\t\n\tif ( !(BaseComponent) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn scopeToProps(BaseComponent, scope, use)\n\t\t}\n\t}\n\t\n\tlet compName = BaseComponent.displayName || BaseComponent.name;\n\t\n\t\n\tlet PropsProvider = scopeToState(class scopeToPropsProvider extends React.Component {\n\t\tstatic _originComponent = BaseComponent._originComponent || BaseComponent;\n\t\tstatic displayName      = classIcons.toProps + compName;\n\t\t\n\t\trender() {\n\t\t\treturn <BaseComponent {...this.props}\n\t\t\t                      {...this.state}\n\t\t\t                      ref={this.props.forwardedRef}\n\t\t\t                      $dispatch={this.$dispatch}\n\t\t\t                      $actions={this.$actions}\n\t\t\t                      $scope={this.$scope}\n\t\t\t                      $stores={this.$stores}/>\n\t\t}\n\t}, is.fn(scope) && scope, use);\n\t\n\t\n\tlet withRef              = React.forwardRef(( props, ref ) => {\n\t\treturn <PropsProvider {...props} forwardedRef={ref}/>;\n\t});\n\twithRef.displayName      = classIcons.toProps + compName;\n\twithRef._originComponent = BaseComponent;\n\twithRef                  = (scope || !BaseComponent._originComponent) && reScope(!is.fn(scope) && scope)(withRef) || withRef;\n\treturn withRef;\n}\n\n/**\n * Return a React \"HOC\" (High Order Component) that :\n *  - Inherit BaseComponent,\n *  - Inject & maintain the stores in BaseComponent::use and/or (use) in the instances\n * state.\n *  - Propag (scope) in the returned React Component context\n *\n *\n * @param BaseComponent {React.Component} Base React Component ( default :\n *     React.Component )\n * @param scope {ReScope.Scope|function} the propagated Scope where the stores will be\n *     searched\n * @param use {array} the list of stores injected from the current scope\n * @param additionalContext {Object} context to be propagated\n * @returns {ReScopeProvider}\n */\nfunction scopeToState( ...argz ) {\n\tlet BaseComponent = (!argz[0] || isReactRenderable(argz[0])) && argz.shift(),\n\t    scope         = (!argz[0] || Scope.isScope(argz[0])) && argz.shift(),\n\t    use           = (!argz[0] || is.array(argz[0])) && argz.shift(),\n\t    stateMap      = !use && (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift(),\n\t    initialState  = {};\n\t\n\tif ( !use && is.string(argz[0]) ) {\n\t\tuse = [];\n\t\twhile ( is.string(argz[0]) ) use.push(argz.shift());\n\t}\n\t\n\tif ( !(BaseComponent) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn scopeToState(BaseComponent, scope, use, stateMap)\n\t\t}\n\t}\n\t\n\tlet compName = BaseComponent.displayName || BaseComponent.name;\n\t\n\tuse = [...(BaseComponent.use || []), ...(use || [])];\n\tstateMap && Scope.stateMapToRefList(stateMap, initialState, use);\n\t\n\tclass ReScopeProvider extends BaseComponent {\n\t\tstatic _originComponent = BaseComponent._originComponent || BaseComponent;\n\t\tstatic defaultProps     = {\n\t\t\t...(BaseComponent.defaultProps || {}),\n\t\t};\n\t\tstatic displayName      = compName;\n\t\t\n\t\t_scopeWillUpdate = ( state ) => {\n\t\t\t// trigger update hook\n\t\t\tthis.scopeWillUpdate && this.scopeWillUpdate(state, this.$stores);\n\t\t\tif ( this.applyScopeUpdate )\n\t\t\t\tstate = this.applyScopeUpdate(state, this.$stores);\n\t\t\tthis.setState(state);\n\t\t};\n\t\t\n\t\tconstructor( p, ctx, q ) {\n\t\t\tsuper(p, ctx, q);\n\t\t\t\n\t\t\tif ( is.fn(scope) ) {\n\t\t\t\tthis.$scope = scope(this, this.props, { rescope: p.$scope });\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.$scope = p.$scope;\n\t\t\t\n\t\t\tif ( this.$scope && this.$scope.dead ) {\n\t\t\t\tconsole.error(\"ReScoping using dead scope !\")\n\t\t\t\tthis.$scope = null;\n\t\t\t}\n\t\t\tthis.$stores  = this.$scope && this.$scope.stores;\n\t\t\tthis.$actions = this.$scope && this.$scope.actions;\n\t\t\tif ( this.$scope && use.length ) {\n\t\t\t\tthis.state = {\n\t\t\t\t\t...this.state,\n\t\t\t\t\t...initialState,\n\t\t\t\t\t...this.$scope.map(this, use, false)// don't bind now due to SSR\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if ( !this.$scope )\n\t\t\t\tconsole.warn(`No Scope found in ${compName}`);\n\t\t\t\n\t\t}\n\t\t\n\t\tcomponentDidMount() {\n\t\t\tif ( use.length ) {\n\t\t\t\tthis.$scope && this.$scope.bind(this._scopeWillUpdate, use, false)\n\t\t\t}\n\t\t\tsuper.componentDidMount && super.componentDidMount()\n\t\t}\n\t\t\n\t\tstatic getDerivedStateFromProps( props, state ) {\n\t\t\tlet nScope = props.$scope;\n\t\t\t\n\t\t\tif ( nScope ) {\n\t\t\t\tif ( use.length )\n\t\t\t\t\treturn nScope.map(this, use, false);\n\t\t\t}\n\t\t\treturn null;\n\t\t\t\n\t\t}\n\t\t\n\t\tcomponentDidUpdate( props ) {\n\t\t\tlet nScope = props.$scope;\n\t\t\tif ( nScope !== this.$scope ) {\n\t\t\t\t\n\t\t\t\tif ( is.fn(scope) )\n\t\t\t\t\tnScope = scope(this, this.props, { rescope: nScope });\n\t\t\t\t\n\t\t\t\tuse.length && this.$scope.unBind(this._scopeWillUpdate, use);\n\t\t\t\t\n\t\t\t\tthis.$scope = nScope;\n\t\t\t\t\n\t\t\t\tif ( this.$scope && this.$scope.dead ) {\n\t\t\t\t\tconsole.error(\"ReScoping using dead scope\")\n\t\t\t\t\tthis.$actions = this.$stores = this.$scope = null;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.$actions = this.$scope.actions;\n\t\t\t\t\tthis.$stores  = this.$scope.stores;\n\t\t\t\t\tuse.length && nScope.bind(this._scopeWillUpdate, use);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\tsuper.componentWillUnmount && super.componentWillUnmount();\n\t\t\tif ( this.$scope && !this.$scope.dead ) {\n\t\t\t\tuse.length && this.$scope.unBind(this._scopeWillUpdate, use);\n\t\t\t}\n\t\t}\n\t};\n\t\n\treturn (scope || !BaseComponent._originComponent) && reScope(!is.fn(scope) && scope)(ReScopeProvider) || ReScopeProvider;\n}\n\n/**\n * Return a React \"HOC\" (High Order Component) that :\n *  - Render BaseComponent with new scope that inherit the given scope or context scope\n *\n * @param BaseComponent {React.Component} Base React Component ( default :\n *     React.Component )\n * @param storesMap {Object} the propagated Scope where the stores will be searched\n * @param parentScope {Scope} the propagated Scope where the stores will be searched\n * @param parentScopeId {string} the propagated Scope where the stores will be searched\n * @param additionalContext {Object} context to be propagated\n * @returns {*}\n */\nfunction reScope( ...argz ) {\n\tlet BaseComponent = (!argz[0] || isReactRenderable(argz[0])) && argz.shift(),\n\t    scope         = (!argz[0] || Scope.isScope(argz[0])) && argz.shift(),\n\t    scoped        = (!argz[0] || argz[0] instanceof SimpleObjectProto && !(Scope.isScope(argz[0]))) && argz.shift(),\n\t    scopeCfg      = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\tif ( !(BaseComponent) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn reScope(BaseComponent, scope, scoped, scopeCfg)\n\t\t}\n\t}\n\t\n\tlet compName = BaseComponent.displayName || BaseComponent.name;\n\t\n\tclass ScopeProvider extends React.Component {\n\t\tstatic _originComponent = BaseComponent._originComponent || BaseComponent;\n\t\tstatic displayName      = classIcons.rs + compName;\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\tthis.$scope && this.$scope.dispose(\"hoc\");\n\t\t}\n\t\t\n\t\trender() {\n\t\t\tlet forcedScope = scope || this.props.$scope;\n\t\t\tif ( forcedScope ) {\n\t\t\t\tif ( (!this.$scope || (forcedScope !== this.$scope.parent)) ) {\n\t\t\t\t\tthis.$scope && this.$scope.dispose(\"hoc\");\n\t\t\t\t\tthis.$scope = forcedScope;\n\t\t\t\t\tthis.$scope && this.$scope.retain(\"hoc\");\n\t\t\t\t}\n\t\t\t\treturn <Provider value={this.$scope}>\n\t\t\t\t\t<BaseComponent {...this.props}\n\t\t\t\t\t               ref={this.props.forwardedRef}\n\t\t\t\t\t               $actions={this.$scope.actions}\n\t\t\t\t\t               $scope={this.$scope}\n\t\t\t\t\t               $stores={this.$scope.stores}/>\n\t\t\t\t</Provider>;\n\t\t\t}\n\t\t\treturn <Consumer>\n\t\t\t\t{\n\t\t\t\t\tnScope => {\n\t\t\t\t\t\tnScope = nScope || Store.staticScope;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif ( nScope && (!this.$scope || nScope !== this.$scope.parent) ) {\n\t\t\t\t\t\t\tthis.$scope && this.$scope.dispose(\"hoc\");\n\t\t\t\t\t\t\tnScope      = new Scope(\n\t\t\t\t\t\t\t\tscoped || {},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tautoDestroy: 'inherit',\n\t\t\t\t\t\t\t\t\tkey        : compName,\n\t\t\t\t\t\t\t\t\tparent     : nScope,\n\t\t\t\t\t\t\t\t\t...scopeCfg\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.$scope = nScope;\n\t\t\t\t\t\t\tthis.$scope && this.$scope.retain(\"hoc\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn <Provider value={this.$scope}>\n\t\t\t\t\t\t\t<BaseComponent {...this.props}\n\t\t\t\t\t\t\t               ref={this.props.forwardedRef}\n\t\t\t\t\t\t\t               $actions={this.$scope.actions}\n\t\t\t\t\t\t\t               $scope={this.$scope}\n\t\t\t\t\t\t\t               $stores={this.$scope.stores}/>\n\t\t\t\t\t\t</Provider>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</Consumer>\n\t\t}\n\t}\n\t\n\tconst withRef            = React.forwardRef(( props, ref ) => {\n\t\treturn <ScopeProvider {...props} forwardedRef={ref}/>;\n\t});\n\twithRef.displayName      = classIcons.rs + compName;\n\twithRef._originComponent = BaseComponent;\n\treturn withRef;\n}\n\n/**\n * Map specified props to\n * @param BaseComponent {React.Component} Base React Component ( default :\n *     React.Component )\n * @param storesMap {Object} the propagated Scope where the stores will be searched\n * @param parentScope {Scope} the propagated Scope where the stores will be searched\n * @param parentScopeId {string} the propagated Scope where the stores will be searched\n * @param additionalContext {Object} context to be propagated\n * @returns {*}\n */\nfunction propsToScope( ...argz ) {\n\tlet BaseComponent = (!argz[0] || isReactRenderable(argz[0])) && argz.shift(),\n\t    scopedProps   = (!argz[0] || is.array(argz[0])) && argz.shift() || [];\n\tif ( !scopedProps.length ) {\n\t\tscopedProps = [];\n\t\twhile ( is.string(argz[0]) ) scopedProps.push(argz.shift());\n\t}\n\tlet scope    = (!argz[0] || Scope.isScope(argz[0])) && argz.shift(),\n\t    scopeCfg = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {};\n\t\n\t\n\tif ( !(BaseComponent) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn propsToScope(BaseComponent, scopedProps, scope, scopeCfg)\n\t\t}\n\t}\n\t\n\tlet compName = BaseComponent.displayName || BaseComponent.name,\n\t    refList  = scopedProps.map(parseRef);\n\t\n\tclass ScopeProvider extends React.Component {\n\t\tstatic _originComponent = BaseComponent._originComponent || BaseComponent;\n\t\tstatic defaultProps     = {\n\t\t\t...(BaseComponent.defaultProps || {}),\n\t\t};\n\t\tstatic displayName      = classIcons.fromProps + compName;\n\t\t\n\t\tconstructor( props ) {\n\t\t\tsuper(...arguments);\n\t\t\tif ( props.$scope ) {\n\t\t\t\tprops.$scope.wait(\"Comp init\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconsole.error(\"RS.fromProps without $scope\")\n\t\t\t}\n\t\t}\n\t\t\n\t\tshouldComponentUpdate( nextProps, nextState, nextContext ) {\n\t\t\treturn shallowCompare(nextProps, this.props);// todo: why the fuck it's required ?\n\t\t}\n\t\t\n\t\trender() {\n\t\t\tlet props = this.props;\n\t\t\trefList.forEach(\n\t\t\t\t( ref ) => {\n\t\t\t\t\tif ( walknGet(props, ref.pathFrom) !== walknGet(props.$scope.state, ref.pathTo) )\n\t\t\t\t\t\tprops.$scope.state[ref.pathTo[0]] = walknSet(\n\t\t\t\t\t\t\t{},\n\t\t\t\t\t\t\tref.pathTo.slice(1),\n\t\t\t\t\t\t\twalknGet(props, ref.pathFrom)\n\t\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t);\n\t\t\tif ( !this._firstRender ) {\n\t\t\t\tthis._firstRender = true;\n\t\t\t\tprops.$scope.release(\"Comp init\");\n\t\t\t}\n\t\t\treturn <BaseComponent {...props}\n\t\t\t                      ref={props.forwardedRef}/>\n\t\t}\n\t}\n\t\n\t\n\tlet withRef              = React.forwardRef(( props, ref ) => {\n\t\treturn <ScopeProvider {...props} forwardedRef={ref}/>;\n\t});\n\twithRef.displayName      = classIcons.fromProps + compName;\n\twithRef._originComponent = BaseComponent;\n\twithRef                  = (scope || !BaseComponent._originComponent) && reScope(!is.fn(scope) && scope)(withRef) || withRef;\n\treturn withRef;\n}\n\n/**\n * Bind a component props to the specified store,\n * render with the specified store result data\n *\n * @param BaseComponent {React.Component} Base React Component ( default :\n *     React.Component )\n * @param storesMap {Object} the propagated Scope where the stores will be searched\n * @param parentScope {Scope} the propagated Scope where the stores will be searched\n * @param parentScopeId {string} the propagated Scope where the stores will be searched\n * @param additionalContext {Object} context to be propagated\n * @returns {*}\n */\nfunction propsToStore( ...argz ) {\n\tlet BaseComponent = (!argz[0] || isReactRenderable(argz[0])) && argz.shift(),\n\t    storeComp     = (!argz[0] || Store.isStore(argz[0])) && argz.shift() || Store,\n\t    storeName     = (!argz[0] || is.string(argz[0])) && argz.shift() || storeComp.displayName || \"props\",\n\t    scopeCfg      = (!argz[0] || argz[0] instanceof SimpleObjectProto) && argz.shift() || {},\n\t    scope         = (!argz[0] || Scope.isScope(argz[0])) && argz.shift();\n\t\n\tif ( !(BaseComponent) ) {\n\t\treturn function ( BaseComponent ) {\n\t\t\treturn propsToStore(BaseComponent,\n\t\t\t                    storeComp,\n\t\t\t                    storeName,\n\t\t\t                    scopeCfg,\n\t\t\t                    scope\n\t\t\t)\n\t\t}\n\t}\n\t\n\tlet compName = BaseComponent.displayName || BaseComponent.name;\n\t\n\tclass ScopeProvider extends React.Component {\n\t\tstatic _originComponent = BaseComponent._originComponent || BaseComponent;\n\t\tstatic displayName      = classIcons.fromProps + compName;\n\t\t\n\t\tcomponentWillUnmount() {\n\t\t\tthis.$scope && this.$scope.dispose(\"hoc\");\n\t\t}\n\t\t\n\t\trender() {\n\t\t\treturn <Consumer>\n\t\t\t\t{\n\t\t\t\t\tnScope => {\n\t\t\t\t\t\tnScope = scope || this.props.$scope || nScope || Store.staticScope;\n\t\t\t\t\t\tif ( nScope && (!this.$scope || nScope !== this.$scope.parent) ) {\n\t\t\t\t\t\t\tthis.$scope && this.$scope.dispose(\"hoc\");\n\t\t\t\t\t\t\tnScope      = new Scope(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t[storeName]: storeComp\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tautoDestroy: 'inherit',\n\t\t\t\t\t\t\t\t\tkey        : compName,\n\t\t\t\t\t\t\t\t\tparent     : nScope,\n\t\t\t\t\t\t\t\t\t...scopeCfg\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.$scope = nScope;\n\t\t\t\t\t\t\tthis.$scope && this.$scope.retain(\"hoc\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn <Provider value={this.$scope}>\n\t\t\t\t\t\t\t<BaseComponent {...this.props}\n\t\t\t\t\t\t\t               ref={this.props.forwardedRef}\n\t\t\t\t\t\t\t               $dispatch={this.$scope.dispatch}\n\t\t\t\t\t\t\t               $actions={this.$scope.actions}\n\t\t\t\t\t\t\t               $scope={this.$scope}\n\t\t\t\t\t\t\t               $stores={this.$scope.stores}/>\n\t\t\t\t\t\t</Provider>;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t</Consumer>\n\t\t}\n\t}\n\t\n\tlet withRef              = React.forwardRef(( props, ref ) => {\n\t\treturn <ScopeProvider {...props} forwardedRef={ref}/>;\n\t});\n\twithRef.displayName      = classIcons.fromProps + compName;\n\twithRef._originComponent = BaseComponent;\n\twithRef                  = (scope || !BaseComponent._originComponent) && reScope(!is.fn(scope) && scope)(withRef) || withRef;\n\treturn withRef;\n}\n\nreScope.withScope    = reScope;\nreScope.toState      = scopeToState;\nreScope.scopeToState = scopeToState;\nreScope.scopeToProps = scopeToProps;\nreScope.toProps      = scopeToProps;\nreScope.connect      = scopeToProps;\nreScope.propsToScope = propsToScope;\nreScope.fromProps    = propsToScope;\nreScope.propsToStore = propsToStore;\nreScope.Store        = Store;\nreScope.Scope        = Scope;\n\nconst { asStore, asScope, asRef, withStateMap } = spells;\n\nreScope.store        = asStore;\nreScope.scope        = asScope;\nreScope.ref          = asRef;\nreScope.asStore      = asStore;\nreScope.asScope      = asScope;\nreScope.asRef        = asRef;\nreScope.withStateMap = withStateMap;\n\nexport {\n\treScope as default,\n\treScope as RS,\n\treScope,\n\treScope as withScope,\n\tscopeToState,\n\tscopeToState as toState,\n\tscopeToProps,\n\tscopeToProps as toProps,\n\tscopeToProps as connect,\n\tpropsToScope,\n\tpropsToScope as fromProps,\n\tpropsToStore,\n\tStore, Scope,\n\tasStore,\n\tasScope,\n\tasRef,\n\twithStateMap,\n\tasStore as store,\n\tasScope as scope,\n\tasRef as ref\n};","module.exports = require(\"@babel/runtime/helpers/defineProperty\");","module.exports = require(\"@babel/runtime/helpers/assertThisInitialized\");","/*\r\n *   The MIT License (MIT)\r\n *   Copyright (c) 2019. Wise Wild Web\r\n *\r\n *   Permission is hereby granted, free of charge, to any person obtaining a copy\r\n *   of this software and associated documentation files (the \"Software\"), to deal\r\n *   in the Software without restriction, including without limitation the rights\r\n *   to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n *   copies of the Software, and to permit persons to whom the Software is\r\n *   furnished to do so, subject to the following conditions:\r\n *\r\n *   The above copyright notice and this permission notice shall be included in all\r\n *   copies or substantial portions of the Software.\r\n *\r\n *   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n *   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n *   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n *   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n *   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n *   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n *   SOFTWARE.\r\n *\r\n *   @author : Nathanael Braun\r\n *   @contact : n8tz.js@gmail.com\r\n */\r\n\r\nexport *           from \"rescope\";\r\nexport *           from \"./ReactHocs\";\r\n\r\nimport RS from \"./ReactHocs\";\r\n\r\nexport default RS;"],"sourceRoot":""}